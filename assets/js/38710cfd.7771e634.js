"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[243],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),h=o,m=d["".concat(l,".").concat(h)]||d[h]||c[h]||a;return n?r.createElement(m,i(i({ref:t},p),{},{components:n})):r.createElement(m,i({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},439:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:2,title:"Writing Hooks"},i=void 0,s={unversionedId:"usage/writing-hooks",id:"usage/writing-hooks",title:"Writing Hooks",description:"All our guides are written in TypeScript, as ModularComponent was built from the ground up with TypeScript in mind.",source:"@site/docs/usage/writing-hooks.md",sourceDirName:"usage",slug:"/usage/writing-hooks",permalink:"/docs/usage/writing-hooks",draft:!1,editUrl:"https://github.com/modular-component/website/docs/usage/writing-hooks.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Writing Hooks"},sidebar:"tutorialSidebar",previous:{title:"Writing Components",permalink:"/docs/usage/writing-components"},next:{title:"Reusing Components",permalink:"/docs/usage/reusing-components"}},l={},u=[{value:"The <code>use</code> method",id:"the-use-method",level:2},{value:"Isolating a single stage result",id:"isolating-a-single-stage-result",level:3},{value:"Returned hook signature",id:"returned-hook-signature",level:3},{value:"Main use-case: Hooks with easy access to application context",id:"main-use-case-hooks-with-easy-access-to-application-context",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"All our guides are written in TypeScript, as ",(0,o.kt)("inlineCode",{parentName:"p"},"ModularComponent")," was built from the ground up with TypeScript in mind.\nHowever, it is perfectly possible to take advantage of ",(0,o.kt)("inlineCode",{parentName:"p"},"ModularComponent")," with standard JavaScript.")),(0,o.kt)("h2",{id:"the-use-method"},"The ",(0,o.kt)("inlineCode",{parentName:"h2"},"use")," method"),(0,o.kt)("p",null,"Each ",(0,o.kt)("inlineCode",{parentName:"p"},"ModularComponent")," has a ",(0,o.kt)("inlineCode",{parentName:"p"},"use")," method that converts it from a ",(0,o.kt)("inlineCode",{parentName:"p"},"FunctionComponent")," to a simple hook. The returned\nhook will run all the configured stages, and return the final argument map."),(0,o.kt)("p",null,"Note that calling ",(0,o.kt)("inlineCode",{parentName:"p"},"use")," does not remove the render stage. The resulting React tree returned from the render stage, if\npresent, is available in the ",(0,o.kt)("inlineCode",{parentName:"p"},"render")," property of the argument map."),(0,o.kt)("h3",{id:"isolating-a-single-stage-result"},"Isolating a single stage result"),(0,o.kt)("p",null,"For each argument added to the map by a stage, you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"use(argument)")," to isolate its stage.\nIt returns a hook for which the return value will be the specified argument from the arguments map, instead of the entire map.\nIt also skips any stage that comes after the stage generating the specified argument."),(0,o.kt)("p",null,"For instance, calling ",(0,o.kt)("inlineCode",{parentName:"p"},"use('render')")," will create a hook that returns the generated React tree. The same way, ",(0,o.kt)("inlineCode",{parentName:"p"},"use('lifecycle')"),"\nwould return whatever value is held inside the ",(0,o.kt)("inlineCode",{parentName:"p"},"lifecycle")," argument, and skip any downstream stages."),(0,o.kt)("h3",{id:"returned-hook-signature"},"Returned hook signature"),(0,o.kt)("p",null,"Either by creating the default hook returning the argument map, or creating a dedicated argument hook, the returned\nvalue is strongly typed in TypeScript projects, as the argument map would be in a stage transform or restriction."),(0,o.kt)("p",null,"The same goes for the generated hook parameter: it will have one required parameter, the props of the component,\nwhich are used to populate the initial argument map passed down the stages. In the specific case where the props type is ",(0,o.kt)("inlineCode",{parentName:"p"},"{}"),"\n(which is the default value unless specified otherwise), the hook's parameter will be optional."),(0,o.kt)("h2",{id:"main-use-case-hooks-with-easy-access-to-application-context"},"Main use-case: Hooks with easy access to application context"),(0,o.kt)("p",null,"While it's fairly easy to use your application context inside hooks through ",(0,o.kt)("em",{parentName:"p"},"other custom hooks"),", why not take advantage\nof your pre-configured stages when possible?"),(0,o.kt)("p",null,"For instance, if you have a stage injecting your application global store, you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"ModularComponent")," to create hooks\nthat consume the store:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const useSomeValue = ModularComponent()\n  .with(Stage.store())\n  .with(Stage.lifecycle(({ store }) => {\n    return store.useState((store) => store.some.value)\n  }))\n  .use('lifecycle')\n")),(0,o.kt)("p",null,"This can get very powerful the more custom stages you add to your factory, exposing application context such as\nstores, internationalisation system, API services, etc. to your hooks."))}c.isMDXComponent=!0}}]);